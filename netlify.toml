# This file is configured for a TanStack Start SSR application on Netlify.
# It works with the @netlify/vite-plugin-tanstack-start plugin.

[build]
  # The command to build the project.
  command = "pnpm run build"
  # The directory where the built static assets are located.
  publish = "dist"

# The following redirect rule is crucial for SSR.
# It tells Netlify to send all incoming page requests to the serverless
# function that is generated by the build plugin.
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  force = true # This is important to ensure the function handles all routes.
